package com.smallcultfollowing.lathos.context;

import com.smallcultfollowing.lathos.model.Page;

public interface Context {
	
	public String freshId();
	
	/** Creates and pushes on the stack a top-level page.
	 *   
	 *  @param id the identifier of the page.  Must be unique
	 *  from all other top-level pages.
	 *  @param title the title content of the page. */
	public Page pushTopLevel(String id, Object... title);

	/** Creates a new child of the current page with {@code title} and with 
	 *  an appropriate breadcrumb trail.  Returns the new page. */
	public Page pushChild(String id, Object... title);
	
	/** Given a page, pushes it onto the stack. */
	public void push(Page page);
	
	/** Embeds top of stack into {@code page}. */
	public void embedIn(Page page);
	
	/** Adds new line with {@code line} contents to top of stack. */
	public void log(Object... line);
	
	/** Appends {@code line} to the last logged line of top of stack. */
	public void append(Object... line);
	
	/** Pops top of the stack, which must equal {@code page} 
	 *  (unless {@code page} is null). */
	public void pop(Page page);
	
}
