package com.smallcultfollowing.lathos.server;

import java.util.HashMap;
import java.util.Map;
import java.util.concurrent.ConcurrentHashMap;
import java.util.concurrent.atomic.AtomicInteger;

import com.smallcultfollowing.lathos.model.Page;
import com.smallcultfollowing.lathos.model.Server;

public class WebServer implements Server {
	
	private final AtomicInteger id = new AtomicInteger();
	private final ConcurrentHashMap<String, Page> topLevelPages = new ConcurrentHashMap<String, Page>();
	
	@Override
	public void addTopLevelPage(Page page) {
		topLevelPages.put(page.getId(), page);
	}
	
	@Override
	public String freshId() {
		int i = id.getAndIncrement();
		return "page" + Integer.toHexString(i);
	}
	
}
