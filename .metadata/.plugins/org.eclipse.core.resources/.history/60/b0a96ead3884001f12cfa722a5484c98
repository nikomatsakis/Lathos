package com.smallcultfollowing.lathos.model;

import java.util.ArrayList;
import java.util.List;

public class Node implements Displayable {
	
	public final String id;
	private final ArrayList<Displayable> contents = new ArrayList<Displayable>();
	private final ArrayList<Node> parents = new ArrayList<Node>();
	private final ArrayList<Node> children = new ArrayList<Node>();
	
	public Node(String id) {
		this.id = id;
	}
	
	public synchronized void addContents(List<Displayable> d) {
		contents.addAll(d);
	}

	public synchronized void addContent(Displayable d) {
		contents.add(d);
	}
	
	public void addParent(Node parent) {
		synchronized(this) {
			parents.add(parent);
		}
		
		synchronized(parent) {
			parent.children.add(this);
		}
	}
	
	@Override
	public synchronized void toHtml(Render render, StringBuilder sb) {
		for(Displayable d : contents)
			d.toHtml(render, sb);
	}

}
